<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸš€ Personel Takip Paneli - Profesyonel Dashboard</title>
    <link rel="stylesheet" href="styles.css?v=20250813-KPI-FIX-1">
    <link rel="stylesheet" href="professional-styles.css?v=20250813-1">
    <link rel="stylesheet" href="styles-improvements.css?v=20250813-3">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body class="gradient-animated">
    <!-- Animated Background Particles -->
    <div class="particles-bg" id="particles">
        <!-- Particles will be generated by JavaScript -->
    </div>
    
    <!-- Morphing Background Shapes -->
    <div class="morphing-bg floating" style="top: 10%; right: 5%;"></div>
    <div class="morphing-bg floating-delayed" style="bottom: 15%; left: 8%; animation-delay: 4s;"></div>
    
    <div id="app">
        <!-- Toast Container -->
        <div class="toast-container" id="toastContainer"></div>
        
        <nav class="navbar glass-card hover-lift">
            <div class="nav-brand">
                <h1 class="text-gradient neon-glow floating">
                    <i class="fas fa-users micro-bounce"></i> 
                    Personel Takip Paneli
                </h1>
            </div>
            <div class="nav-menu">
                <a href="#dashboard" id="navDashboard" class="nav-link active ripple-effect micro-bounce" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
                <a href="#personnel" id="navPersonnel" class="nav-link ripple-effect micro-bounce" data-page="personnel">
                    <i class="fas fa-users"></i> Personel
                </a>
                <a href="#performance" id="navPerformance" class="nav-link ripple-effect micro-bounce" data-page="performance">
                    <i class="fas fa-trophy"></i> Performans
                </a>
                <a href="#records" id="navRecords" class="nav-link ripple-effect micro-bounce" data-page="records">
                    <i class="fas fa-chart-line"></i> Ã‡aÄŸrÄ± PuanlarÄ±
                </a>
                <a href="#training-feedback" id="navTrainingFeedback" class="nav-link ripple-effect micro-bounce" data-page="training-feedback">
                    <i class="fas fa-graduation-cap"></i> EÄŸitim-Geribildirimler
                </a>
                <a href="#targets" id="navTargets" class="nav-link ripple-effect micro-bounce" data-page="targets">
                    <i class="fas fa-bullseye"></i> Hedefler
                </a>
                <a href="#analytics" id="navAnalytics" class="nav-link ripple-effect micro-bounce" data-page="analytics">
                    <i class="fas fa-business-time"></i> Mesai SonrasÄ±
                </a>
                <a href="#attendance" id="navAttendance" class="nav-link ripple-effect micro-bounce" data-page="attendance">
                    <i class="fas fa-calendar-check"></i> Puantaj
                </a>
                <a href="#users" id="navUsers" class="nav-link ripple-effect micro-bounce" data-page="users" style="display:none">
                    <i class="fas fa-user-shield"></i> KullanÄ±cÄ± YÃ¶netimi
                </a>
                <a href="#login" id="navLogin" class="nav-link ripple-effect micro-bounce" data-page="login">
                    <i class="fas fa-right-to-bracket"></i> GiriÅŸ
                </a>
            </div>
        </nav>

        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page active fade-in-up">
                <div class="page-header glass-card hover-lift">
                    <h2 class="text-gradient text-shadow-soft">
                        <i class="fas fa-tachometer-alt floating"></i> 
                        GerÃ§ek ZamanlÄ± Dashboard
                    </h2>
                </div>

                <!-- Real-time Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card gradient-blue hover-lift hover-glow bounce-in gpu-acceleration" style="animation-delay: 0.1s;">
                        <div class="stat-icon micro-bounce">
                            <i class="fas fa-users floating"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalPersonnel" class="neon-glow">-</h3>
                            <p>Aktif Personel</p>
                            <span class="stat-trend glass-card">
                                <i class="fas fa-arrow-up"></i> +2%
                            </span>
                        </div>
                        <div class="morphing-bg"></div>
                    </div>
                    
                    <div class="stat-card gradient-green hover-lift hover-glow bounce-in gpu-acceleration" style="animation-delay: 0.2s;">
                        <div class="stat-icon micro-bounce">
                            <i class="fas fa-chart-line floating-delayed"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="todayPerformance" class="neon-glow">-</h3>
                            <p>Ã–nceki gÃ¼ne ait ortalama Ã¼ye adedi - As Ekip ve Paf Ekip Ã¼ye adedi ortalamasÄ±</p>
                            <span class="stat-trend glass-card">
                                <i class="fas fa-arrow-up"></i> +5.2%
                            </span>
                        </div>
                        <div class="morphing-bg"></div>
                    </div>
                    
                    <div class="stat-card gradient-purple hover-lift hover-glow bounce-in gpu-acceleration" style="animation-delay: 0.3s;">
                        <div class="stat-icon micro-bounce">
                            <i class="fas fa-bullseye floating"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="targetAchievement" class="neon-glow">-</h3>
                            <p>Hedef BaÅŸarÄ± OranÄ±</p>
                            <span class="stat-trend glass-card">
                                <i class="fas fa-arrow-up"></i> +8.1%
                            </span>
                        </div>
                        <div class="morphing-bg"></div>
                    </div>
                    
                    <div class="stat-card gradient-orange hover-lift hover-glow bounce-in gpu-acceleration" style="animation-delay: 0.4s;">
                        <div class="stat-icon micro-bounce">
                            <i class="fas fa-clipboard-check floating-delayed"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="todayRecords" class="neon-glow">-</h3>
                            <p>Hedef SÃ¼reci</p>
                            <span class="stat-trend glass-card">
                                <i class="fas fa-arrow-up"></i> +3
                            </span>
                        </div>
                        <div class="morphing-bg"></div>
                    </div>
                </div>

                <!-- Personnel Performance Cards -->
                <div class="section-header fade-in-up" style="animation-delay: 0.5s;">
                    <h3 class="text-gradient text-shadow-soft">
                        <i class="fas fa-users-cog floating"></i> 
                        Personel Performans Takibi
                    </h3>
                    <p>GÃ¼ncel performans verileri ve hedef karÅŸÄ±laÅŸtÄ±rmalarÄ±</p>
                </div>
                
                <div class="personnel-performance-grid" id="personnelPerformanceGrid">
                    <!-- Dynamic personnel cards will be inserted here -->
                </div>

                <!-- Charts Section -->
                <div class="dashboard-charts fade-in-up" id="dashboardCards" style="animation-delay: 0.7s;">
                    <!-- Dynamic dashboard cards will be inserted here -->
                </div>
            </div>

            <!-- Personnel Page -->
            <div id="personnel-page" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-users-cog"></i> Personel YÃ¶netimi</h2>
                    <div class="page-actions">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="personnelSearch" placeholder="Personel ara (ad, email)...">
                        </div>
                        <button class="btn btn-info" id="exportPersonnelBtn">
                            <i class="fas fa-file-excel"></i> Excel Ä°ndir
                        </button>
                        <button class="btn btn-success" id="addPersonnelBtn">
                            <i class="fas fa-user-plus"></i> Yeni Personel
                        </button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table class="data-table" id="personnelTable">
                        <thead>
                            <tr>
                                <th>Ad Soyad</th>
                                <th>KullanÄ±cÄ± AdÄ±</th>
                                <th>E-posta</th>
                                <th>Ekip</th>
                                <th>Ä°ÅŸe GiriÅŸ Tarihi</th>
                                <th>Referans</th>
                                <th>Terfi Tarihi</th>
                                <th>Ä°ÅŸlemler</th>
                            </tr>
                        </thead>
                        <tbody id="personnelTableBody">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Performance Page -->
            <div id="performance-page" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-trophy"></i> Performans Tablosu</h2>
                    <div class="page-actions">
                        <div class="date-range-filters">
                            <input type="date" id="performanceStartDateFilter" class="filter-input" placeholder="BaÅŸlangÄ±Ã§ tarihi">
                            <span class="date-separator">-</span>
                            <input type="date" id="performanceEndDateFilter" class="filter-input" placeholder="BitiÅŸ tarihi">
                            <button class="btn btn-primary btn-sm" id="applyPerformanceDateFilter">
                                <i class="fas fa-filter"></i> Filtrele
                            </button>
                            <button class="btn btn-secondary btn-sm" id="clearPerformanceDateFilter">
                                <i class="fas fa-times"></i> Temizle
                            </button>
                        </div>
                        <select id="performancePersonnelFilter" class="filter-select">
                            <option value="">TÃ¼m Personel</option>
                        </select>
                        <button class="btn btn-info" id="exportPerformanceExcelBtn">
                            <i class="fas fa-file-excel"></i> Excel Ä°ndir
                        </button>
                        <button class="btn btn-success" id="addPerformanceBtn">
                            <i class="fas fa-plus"></i> Yeni Performans KaydÄ±
                        </button>
                    </div>
                </div>

                <!-- Performans Ã–zet Tablosu -->
                <div class="section-header">
                    <h3><i class="fas fa-chart-pie"></i> Personel Performans Ã–zeti</h3>
                    <p>Personel bazÄ±nda toplam performans verileri</p>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th><i class="fas fa-user"></i> Personel</th>
                                <th><i class="fas fa-users"></i> Toplam Ãœye</th>
                                <th><i class="fas fa-whatsapp"></i> Toplam WhatsApp</th>
                                <th><i class="fas fa-mobile-alt"></i> Toplam Cihaz</th>
                                <th><i class="fas fa-clock"></i> Toplam CevapsÄ±z</th>
                                <th><i class="fas fa-brain"></i> Bilgi DÃ¼ellosu</th>
                                <th><i class="fas fa-medal"></i> Ã–dÃ¼l</th>
                                <th><i class="fas fa-ban"></i> Ceza</th>
                            </tr>
                        </thead>
                        <tbody id="performanceSummaryTableBody">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>

                <!-- DetaylÄ± Performans KayÄ±tlarÄ± -->
                <div class="section-header">
                    <h3><i class="fas fa-list-alt"></i> DetaylÄ± Performans KayÄ±tlarÄ±</h3>
                    <p>GÃ¼nlÃ¼k performans kayÄ±tlarÄ±</p>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th><i class="fas fa-calendar"></i> Tarih</th>
                                <th><i class="fas fa-user"></i> Personel</th>
                                <th><i class="fas fa-users"></i> Ãœye Adedi</th>
                                <th><i class="fas fa-whatsapp"></i> WhatsApp Adedi</th>
                                <th><i class="fas fa-mobile-alt"></i> Cihaz Adedi</th>
                                <th><i class="fas fa-clock"></i> CevapsÄ±z Adedi</th>
                                <th><i class="fas fa-brain"></i> Bilgi DÃ¼ellosu</th>
                                <th><i class="fas fa-medal"></i> Ã–dÃ¼l</th>
                                <th><i class="fas fa-ban"></i> Ceza</th>
                                <th><i class="fas fa-cog"></i> Ä°ÅŸlemler</th>
                            </tr>
                        </thead>
                        <tbody id="performanceTableBody">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Records Page -->
            <div id="records-page" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-chart-line"></i> Ã‡aÄŸrÄ± Puan Tablosu</h2>
                    <div class="page-actions">
                        <input type="date" id="recordsStartDate" class="filter-input" placeholder="BaÅŸlangÄ±Ã§ tarihi">
                        <input type="date" id="recordsEndDate" class="filter-input" placeholder="BitiÅŸ tarihi">
                        <button class="btn btn-primary btn-sm" id="applyRecordsDateFilter">
                            <i class="fas fa-filter"></i> Filtrele
                        </button>
                        <button class="btn btn-secondary btn-sm" id="clearRecordsDateFilter">
                            <i class="fas fa-times"></i> Temizle
                        </button>
                        <select id="personnelFilter" class="filter-select">
                            <option value="">TÃ¼m Personel</option>
                        </select>
                        <button class="btn btn-info" id="exportExcelBtn">
                            <i class="fas fa-download"></i> Excel Ä°ndir
                        </button>
                        <button class="btn btn-success" id="addRecordBtn">
                            <i class="fas fa-plus"></i> Yeni Ã‡aÄŸrÄ± PuanÄ±
                        </button>
                    </div>
                </div>
                
                <!-- Personel Ã–zet Tablosu -->
                <div class="section-header">
                    <h3><i class="fas fa-users"></i> Personel Ã‡aÄŸrÄ± Ã–zeti</h3>
                    <p>Personel bazÄ±nda dinlenilen Ã§aÄŸrÄ± sayÄ±sÄ± ve puan ortalamalarÄ±</p>
                </div>
                
                <div class="table-container">
                    <table class="data-table" id="personnelSummaryTable">
                        <thead>
                            <tr>
                                <th>Personel</th>
                                <th>Dinlenilen Ã‡aÄŸrÄ± Adedi</th>
                                <th>Ã‡aÄŸrÄ± Puan OrtalamasÄ±</th>
                            </tr>
                        </thead>
                        <tbody id="personnelSummaryTableBody">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Ã‡aÄŸrÄ± DetaylarÄ± -->
                <div class="section-header" style="margin-top: 2rem;">
                    <h3><i class="fas fa-list"></i> Dinlenilen Ã‡aÄŸrÄ±lar</h3>
                    <p>TÃ¼m Ã§aÄŸrÄ± deÄŸerlendirme detaylarÄ±</p>
                </div>
                
                <div class="table-container" id="recordsTableContainer">
                    <table class="data-table" id="recordsTable">
                        <thead>
                            <tr>
                                <th>Tarih</th>
                                <th>Personel</th>
                                <th>Dinlenilen Ã‡aÄŸrÄ± NumarasÄ±</th>
                                <th>Puan</th>
                                <th>Geribildirim</th>
                                <th>Ä°ÅŸlemler</th>
                            </tr>
                        </thead>
                        <tbody id="recordsTableBody">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Targets Page -->
            <div id="targets-page" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-bullseye"></i> Hedef Tablosu</h2>
                    <div class="page-actions">
                        <button class="btn btn-success" id="setTargetsBtn2">
                            <i class="fas fa-plus"></i> Hedef Ekle
                        </button>
                    </div>
                </div>
                
                <div class="targets-container">
                    <div class="chart-card large">
                        <div class="card-header">
                            <h3><i class="fas fa-list-alt"></i> Hedef Takip Listesi</h3>
                            <p>Personel hedefleri ve gerÃ§ekleÅŸme durumlarÄ±</p>
                        </div>
                        <div class="card-content">
                            <div id="targetDistributionContainer">
                                <div class="loading-spinner">
                                    <i class="fas fa-spinner fa-spin"></i>
                                    <p>Hedef verileri yÃ¼kleniyor...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mesai SonrasÄ± Ã‡alÄ±ÅŸma Page (replaces Analytics) -->
            <div id="analytics-page" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-business-time"></i> Mesai SonrasÄ± Ã‡alÄ±ÅŸma</h2>
                    <div class="page-actions">
                        <div class="date-range-filters">
                            <input type="date" id="afterHoursStartDate" class="filter-input" placeholder="BaÅŸlangÄ±Ã§ tarihi">
                            <span class="date-separator">-</span>
                            <input type="date" id="afterHoursEndDate" class="filter-input" placeholder="BitiÅŸ tarihi">
                            <button class="btn btn-primary btn-sm" id="applyAfterHoursFilter">
                                <i class="fas fa-filter"></i> Filtrele
                            </button>
                            <button class="btn btn-secondary btn-sm" id="clearAfterHoursFilter">
                                <i class="fas fa-times"></i> Temizle
                            </button>
                        </div>
                        <button class="btn btn-info" id="exportAfterHoursExcelBtn">
                            <i class="fas fa-file-excel"></i> Excel Ä°ndir
                        </button>
                        <button class="btn btn-success" id="addAfterHoursBtn">
                            <i class="fas fa-plus"></i> KayÄ±t Ekle
                        </button>
                    </div>
                </div>

                <!-- Top Totals -->
                <div class="section-header">
                    <h3><i class="fas fa-chart-pie"></i> Toplamlar</h3>
                    <p>SeÃ§ili tarih aralÄ±ÄŸÄ±ndaki toplam deÄŸerler</p>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th><i class="fas fa-user"></i> Personel</th>
                                <th><i class="fas fa-phone"></i> Arama Adedi</th>
                                <th><i class="fas fa-clock"></i> KonuÅŸma SÃ¼resi (dk)</th>
                                <th><i class="fas fa-users"></i> Ãœye Adedi</th>
                                <th><i class="fas fa-database"></i> KayÄ±t SayÄ±sÄ±</th>
                            </tr>
                        </thead>
                        <tbody id="afterHoursSummaryBody">
                            <tr>
                                <td colspan="5" class="text-center">Veriler yÃ¼kleniyor...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Detail List -->
                <div class="section-header" style="margin-top: 1rem;">
                    <h3><i class="fas fa-list-alt"></i> DetaylÄ± KayÄ±tlar</h3>
                    <p>Mesai sonrasÄ± Ã§alÄ±ÅŸma kayÄ±tlarÄ±</p>
                </div>
                <div class="table-container">
                    <table class="data-table" id="afterHoursTable">
                        <thead>
                            <tr>
                                <th>Tarih</th>
                                <th>Personel</th>
                                <th>Arama Adedi</th>
                                <th>KonuÅŸma SÃ¼resi (dk)</th>
                                <th>Ãœye Adedi</th>
                                <th>Notlar</th>
                                <th>Ä°ÅŸlemler</th>
                            </tr>
                        </thead>
                        <tbody id="afterHoursTableBody">
                            <tr>
                                <td colspan="7" class="text-center">KayÄ±t yok</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Puantaj Page -->
            <div id="attendance-page" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-calendar-check"></i> Puantaj</h2>
                    <div class="page-actions">
                        <div class="date-range-filters">
                            <input type="date" id="attendanceStartDate" class="filter-input" placeholder="BaÅŸlangÄ±Ã§ tarihi">
                            <span class="date-separator">-</span>
                            <input type="date" id="attendanceEndDate" class="filter-input" placeholder="BitiÅŸ tarihi">
                            <button class="btn btn-primary btn-sm" id="applyAttendanceFilter">
                                <i class="fas fa-filter"></i> Uygula
                            </button>
                            <button class="btn btn-secondary btn-sm" id="clearAttendanceFilter">
                                <i class="fas fa-times"></i> Temizle
                            </button>
                            <button class="btn btn-success btn-sm" id="addAttendanceOverrideBtn" title="Ä°zin / Puantaj KaydÄ± Ekle">
                                <i class="fas fa-plus"></i> Ä°zin/Mesai KaydÄ±
                            </button>
                        </div>
                    </div>
                </div>

                <div class="table-container" id="attendanceTableContainer">
                    <table class="data-table attendance-table" id="attendanceTable">
                        <thead id="attendanceTableHead">
                            <!-- Dynamic dates header -->
                        </thead>
                        <tbody id="attendanceTableBody">
                            <tr><td class="text-center">Veriler yÃ¼kleniyor...</td></tr>
                        </tbody>
                    </table>
                </div>
                <div id="attendanceLegend" style="margin-top:10px;font-size:12px;color:#555;">
                    <strong>AÃ§Ä±klama:</strong>
                    <span style="display:inline-block;margin-left:10px;">1 = Tam GÃ¼n</span>
                    <span style="display:inline-block;margin-left:10px;">0,5 = YarÄ±m GÃ¼n</span>
                    <span style="display:inline-block;margin-left:10px;">0 = Yok</span>
                    <span style="display:inline-block;margin-left:10px;">- = Gelecek gÃ¼n</span>
                    <span style="display:inline-block;margin-left:10px;">KÃ¶ÅŸe iÅŸareti = Mesai</span>
                </div>

                <!-- UYARI - KESÄ°NTÄ° alt bÃ¶lÃ¼mÃ¼ -->
                <div class="data-card" style="margin-top:16px;">
                    <div class="card-header" style="display:flex;align-items:center;justify-content:space-between;">
                        <div>
                            <h3 style="margin:0;">UYARI - KESÄ°NTÄ°</h3>
                            <span class="card-subtitle">Personel bazÄ±nda uyarÄ±/kesinti kayÄ±tlarÄ±</span>
                        </div>
                        <button class="btn btn-primary btn-sm" id="addWarningCutBtn">
                            <i class="fas fa-plus"></i> KayÄ±t Ekle
                        </button>
                    </div>
                    <div class="page-actions" style="display:flex;gap:8px;align-items:center;margin-top:8px;">
                        <button class="btn btn-info btn-sm" id="exportWarningsCutsBtn">
                            <i class="fas fa-file-excel"></i> Excel Ä°ndir
                        </button>
                    </div>
                    <div class="table-container" id="warningCutSummaryContainer" style="margin-top:10px;">
                        <table class="data-table" id="warningCutSummaryTable">
                            <thead>
                                <tr>
                                    <th>Personel</th>
                                    <th>UyarÄ±</th>
                                    <th>Kesinti</th>
                                    <th>Toplam</th>
                                </tr>
                            </thead>
                            <tbody id="warningCutSummaryBody">
                                <tr><td colspan="4" class="text-center">YÃ¼kleniyor...</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="table-container" id="warningCutTableContainer" style="margin-top:10px;">
                        <table class="data-table" id="warningCutTable">
                            <thead>
                                <tr>
                                    <th class="sortable wc-sort" data-key="date">Tarih</th>
                                    <th class="sortable wc-sort" data-key="personnel_name">Personel</th>
                                    <th class="sortable wc-sort" data-key="type">TÃ¼r</th>
                                    <th class="sortable wc-sort" data-key="count">Adet</th>
                                    <th class="sortable wc-sort" data-key="subject">Konu</th>
                                    <th>Ä°ÅŸlemler</th>
                                </tr>
                            </thead>
                            <tbody id="warningCutTableBody">
                                <tr><td colspan="6" class="text-center">KayÄ±t yok</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Users Management Page -->
            <div id="users-page" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-user-shield"></i> KullanÄ±cÄ± YÃ¶netimi</h2>
                    <div class="page-actions">
                        <button class="btn btn-success" id="addUserBtn">
                            <i class="fas fa-user-plus"></i> Yeni KullanÄ±cÄ±
                        </button>
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table" id="usersTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>KullanÄ±cÄ± AdÄ±</th>
                                <th>Rol</th>
                                <th>Durum</th>
                                <th>OluÅŸturulma</th>
                                <th>Ä°ÅŸlemler</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <tr><td colspan="6" class="text-center">KullanÄ±cÄ±lar yÃ¼kleniyor...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Login Page -->
            <div id="login-page" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-right-to-bracket"></i> GiriÅŸ</h2>
                </div>
                <div class="data-card" style="max-width:480px;margin:24px auto;">
                    <div class="card-header">
                        <h3>YÃ¶netici GiriÅŸi</h3>
                        <span class="card-subtitle">KullanÄ±cÄ± adÄ± ve ÅŸifrenizi girin</span>
                    </div>
                    <div class="card-content">
                        <form id="loginForm">
                            <div class="form-group">
                                <label for="login_username">KullanÄ±cÄ± AdÄ±</label>
                                <input type="text" id="login_username" name="login_username" required>
                            </div>
                            <div class="form-group">
                                <label for="login_password">Åžifre</label>
                                <input type="password" id="login_password" name="login_password" required>
                            </div>
                            <div class="form-group" style="display:flex;gap:8px;justify-content:flex-end;">
                                <button type="submit" class="btn btn-primary" id="loginSubmitBtn">
                                    <i class="fas fa-right-to-bracket"></i> GiriÅŸ Yap
                                </button>
                                <button type="button" class="btn btn-secondary" id="logoutBtn" style="display:none">
                                    <i class="fas fa-right-from-bracket"></i> Ã‡Ä±kÄ±ÅŸ
                                </button>
                            </div>
                        </form>
                        <div id="loginStatus" style="margin-top:8px;color:#666;font-size:13px;"></div>
                    </div>
                </div>
            </div>

            <!-- Training Feedback Page -->
        <div id="training-feedback-page" class="page">
                <div class="page-header">
            <h2><i class="fas fa-graduation-cap"></i> EÄŸitimler</h2>
                    <div class="header-actions">
                        <button class="btn btn-primary" id="addTrainingFeedbackBtn" onclick="console.log('ðŸ”¥ BUTTON CLICKED DIRECTLY!'); openModal('addTrainingFeedbackModal');">
                <i class="fas fa-plus"></i> KayÄ±t Ekle
                        </button>
                        <button class="btn btn-success" id="exportTrainingFeedbackExcelBtn">
                            <i class="fas fa-file-excel"></i> Excel Export
                        </button>
                    </div>
                </div>

                <!-- Date Filter Section -->
                <div class="filter-section">
                    <div class="filter-card">
                        <h4><i class="fas fa-filter"></i> Tarih Filtreleme</h4>
                        <div class="date-filter-grid">
                            <div class="form-group">
                                <label for="trainingFeedbackStartDate">BaÅŸlangÄ±Ã§ Tarihi</label>
                                <input type="date" id="trainingFeedbackStartDate" name="start_date">
                            </div>
                            <div class="form-group">
                                <label for="trainingFeedbackEndDate">BitiÅŸ Tarihi</label>
                                <input type="date" id="trainingFeedbackEndDate" name="end_date">
                            </div>
                            <div class="form-group">
                                <button type="button" class="btn btn-info" id="applyTrainingFeedbackFilter">
                                    <i class="fas fa-filter"></i> Filtrele
                                </button>
                                <button type="button" class="btn btn-secondary" id="clearTrainingFeedbackFilter">
                                    <i class="fas fa-times"></i> Temizle
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Summary Table (Top) -->
                <div class="summary-section">
                    <div class="data-card">
                        <div class="card-header">
                            <h3><i class="fas fa-chart-pie"></i> EÄŸitimler Ã–zeti</h3>
                            <span class="card-subtitle">Personel bazÄ±nda eÄŸitim ve geribildirim adetleri</span>
                        </div>
                        <div class="table-container">
                            <table id="trainingFeedbackSummaryTable" class="data-table">
                                <thead>
                                    <tr>
                                        <th>Personel</th>
                                        <th>Genel EÄŸitim Adedi</th>
                                        <th>Birebir EÄŸitimler Adedi</th>
                                        <th>Geribildirimler Adedi</th>
                                    </tr>
                                </thead>
                                <tbody id="trainingFeedbackSummaryTBody">
                                    <!-- Summary data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Detail Table (Bottom) -->
                <div class="detail-section">
                    <div class="data-card">
                        <div class="card-header">
                            <h3><i class="fas fa-list-alt"></i> DetaylÄ± KayÄ±tlar</h3>
                            <span class="card-subtitle">TÃ¼m eÄŸitim ve geribildirim kayÄ±tlarÄ±</span>
                        </div>
                        <div class="table-container">
                            <table id="trainingFeedbackDetailTable" class="data-table">
                                <thead>
                                    <tr>
                                        <th>Tarih</th>
                                        <th>Personel</th>
                                        <th>Genel EÄŸitim Adedi</th>
                                        <th>Genel EÄŸitim Konusu</th>
                                        <th>Birebir EÄŸitimler Adedi</th>
                                        <th>Birebir EÄŸitimler Konusu</th>
                                        <th>Geribildirimler Adedi</th>
                                        <th>Geribildirimler Konusu</th>
                                        <th>Ä°ÅŸlemler</th>
                                    </tr>
                                </thead>
                                <tbody id="trainingFeedbackDetailTBody">
                                    <!-- Detail data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal Container -->
    <div id="modalOverlay" class="modal-overlay">
        <!-- Add Personnel Modal -->
        <div id="addPersonnelModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-user-plus"></i> Yeni Personel Ekle</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addPersonnelForm">
                    <div class="form-section">
                        <h4><i class="fas fa-user"></i> KiÅŸisel Bilgiler</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="name">Personel AdÄ± *</label>
                                <input type="text" id="name" name="name" required placeholder="Ad Soyad" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                            <div class="form-group">
                                <label for="username">KullanÄ±cÄ± AdÄ± *</label>
                                <input type="text" id="username" name="username" required placeholder="KullanÄ±cÄ± adÄ±" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">E-posta</label>
                                <input type="email" id="email" name="email" placeholder="ornek@sirket.com" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                            <div class="form-group">
                                <label for="reference">Referans</label>
                                <input type="text" id="reference" name="reference" placeholder="Referans bilgisi" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h4><i class="fas fa-briefcase"></i> Ä°ÅŸ Bilgileri</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="hire_date">Ä°ÅŸe GiriÅŸ Tarihi *</label>
                                <input type="date" id="hire_date" name="hire_date" required style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                            <div class="form-group">
                                <label for="team">Ekip *</label>
                                <select id="team" name="team" required style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                                    <option value="">Ekip SeÃ§in</option>
                                    <option value="As Ekip">As Ekip</option>
                                    <option value="Paf Ekip">Paf Ekip</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="promotion_date">Terfi Tarihi (Opsiyonel)</label>
                                <input type="date" id="promotion_date" name="promotion_date" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="addPersonnelForm" class="btn btn-primary">Personel Ekle</button>
            </div>
        </div>

        <!-- Set Targets Modal -->
        <div id="setTargetsModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-bullseye"></i> Hedef Belirleme</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="setTargetsForm">
                    <input type="hidden" id="editTargetId" name="editTargetId" value="">
                    <div class="form-section">
                        <h4><i class="fas fa-user"></i> Personel SeÃ§in</h4>
                        <div class="form-group">
                            <select id="target_personnel_id" name="target_personnel_id" required>
                                <option value="">Personel SeÃ§in</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h4><i class="fas fa-calendar-alt"></i> Tarih AralÄ±ÄŸÄ±</h4>
                        <div class="date-range-grid">
                            <div class="form-group">
                                <label for="target_start_date">BaÅŸlangÄ±Ã§ Tarihi</label>
                                <input type="date" id="target_start_date" name="target_start_date" required>
                            </div>
                            <div class="form-group">
                                <label for="target_end_date">BitiÅŸ Tarihi</label>
                                <input type="date" id="target_end_date" name="target_end_date" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h4><i class="fas fa-users"></i> Ãœye SayÄ±sÄ±</h4>
                        <div class="form-group">
                            <label for="target_member_count">Hedeflenen Ãœye SayÄ±sÄ±</label>
                            <input type="number" id="target_member_count" name="target_member_count" min="0" placeholder="Ãœye sayÄ±sÄ± girin">
                            <span class="target-unit">adet</span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="setTargetsForm" class="btn btn-primary">Hedefi Kaydet</button>
            </div>
        </div>

        <!-- Add Record Modal -->
        <div id="addRecordModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-phone-alt"></i> Yeni Ã‡aÄŸrÄ± PuanÄ± Ekle</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addRecordForm">
                    <div class="form-group">
                        <label for="record_date">Tarih *</label>
                        <input type="date" id="record_date" name="record_date" required>
                    </div>
                    <div class="form-group">
                        <label for="personnel_id">Personel *</label>
                        <select id="personnel_id" name="personnel_id" required>
                            <option value="">Personel SeÃ§in</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <h4><i class="fas fa-phone"></i> Ã‡aÄŸrÄ± DeÄŸerlendirme Bilgileri</h4>
                        <div class="personnel-fields-grid">
                            <div class="field-item">
                                <label for="record_call_number">Dinlenilen Ã‡aÄŸrÄ± NumarasÄ±</label>
                                <input type="text" id="record_call_number" name="call_number" placeholder="Ã–rn: CALL-2025-001" required>
                            </div>
                            <div class="field-item">
                                <label for="record_score">Puan</label>
                                <input type="number" id="record_score" name="score" min="0" max="100" placeholder="0-100 arasÄ±" required>
                                <span class="field-unit">puan</span>
                            </div>
                        </div>
                        <div class="fields-info">
                            <i class="fas fa-info-circle"></i>
                            Ã‡aÄŸrÄ± numarasÄ± ve verilen puanÄ± girin. Puan 0-100 arasÄ±nda olmalÄ±dÄ±r.
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="notes">Geribildirim</label>
                        <textarea id="notes" name="notes" rows="4" placeholder="Ã‡aÄŸrÄ± ile ilgili geribildirim ve notlar..." required></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="addRecordForm" class="btn btn-primary">Ã‡aÄŸrÄ± PuanÄ± Ekle</button>
            </div>
        </div>

        <!-- Edit Daily Record Modal -->
        <div id="editDailyRecordModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-edit"></i> Ã‡aÄŸrÄ± KaydÄ±nÄ± DÃ¼zenle</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editDailyRecordForm">
                    <input type="hidden" id="editDailyRecordId" name="id">
                    <div class="form-group">
                        <label for="editDailyRecordDate">Tarih *</label>
                        <input type="date" id="editDailyRecordDate" name="record_date" required>
                    </div>
                    <div class="form-group">
                        <label for="editDailyRecordPersonnel">Personel *</label>
                        <select id="editDailyRecordPersonnel" name="personnel_id" required>
                            <option value="">Personel SeÃ§in</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editDailyRecordCallNumber">Dinlenilen Ã‡aÄŸrÄ± NumarasÄ±</label>
                        <input type="text" id="editDailyRecordCallNumber" name="call_number" required>
                    </div>
                    <div class="form-group">
                        <label for="editDailyRecordScore">Puan</label>
                        <input type="number" id="editDailyRecordScore" name="score" min="0" max="100" required>
                    </div>
                    <div class="form-group">
                        <label for="editDailyRecordNotes">Geribildirim</label>
                        <textarea id="editDailyRecordNotes" name="notes" rows="3" placeholder="Ã‡aÄŸrÄ± ile ilgili geribildirim ve notlar..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="editDailyRecordForm" class="btn btn-warning">DeÄŸiÅŸiklikleri Kaydet</button>
            </div>
        </div>

        <!-- Add Performance Modal -->
        <div id="addPerformanceModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-trophy"></i> Yeni Performans KaydÄ± Ekle</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addPerformanceForm">
                    <div class="form-section">
                        <h4><i class="fas fa-calendar-user"></i> Temel Bilgiler</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="performance_date">Tarih *</label>
                                <input type="date" id="performance_date" name="performance_date" required>
                            </div>
                            <div class="form-group">
                                <label for="performance_personnel_id">Personel *</label>
                                <select id="performance_personnel_id" name="performance_personnel_id" required>
                                    <option value="">Personel SeÃ§in</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4><i class="fas fa-chart-bar"></i> Performans Metrikleri</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="member_count">Ãœye Adedi</label>
                                <input type="number" id="member_count" name="member_count" min="0" placeholder="Ãœye sayÄ±sÄ±nÄ± girin">
                            </div>
                            <div class="form-group">
                                <label for="whatsapp_count">WhatsApp Adedi</label>
                                <input type="number" id="whatsapp_count" name="whatsapp_count" min="0" placeholder="WhatsApp sayÄ±sÄ±nÄ± girin">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="device_count">Cihaz Adedi</label>
                                <input type="number" id="device_count" name="device_count" min="0" placeholder="Cihaz sayÄ±sÄ±nÄ± girin">
                            </div>
                            <div class="form-group">
                                <label for="unanswered_count">WhatsApp Total CevapsÄ±z Adedi</label>
                                <input type="number" id="unanswered_count" name="unanswered_count" min="0" placeholder="CevapsÄ±z sayÄ±sÄ±nÄ± girin">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4><i class="fas fa-brain"></i> DeÄŸerlendirme</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="knowledge_duel_result">Bilgi DÃ¼ellosu Sonucu</label>
                                <input type="number" id="knowledge_duel_result" name="knowledge_duel_result" min="0" max="100" placeholder="0-100 arasÄ± puan">
                            </div>
                            <div class="form-group">
                                <label for="reward_penalty">Ã–dÃ¼l veya Ceza</label>
                                <select id="reward_penalty" name="reward_penalty">
                                    <option value="">SeÃ§im YapÄ±nÄ±z</option>
                                    <option value="odul">Ã–dÃ¼l</option>
                                    <option value="ceza">Ceza</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="performance_notes">Notlar</label>
                            <textarea id="performance_notes" name="performance_notes" rows="3" placeholder="Performans ile ilgili notlar..."></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="addPerformanceForm" class="btn btn-success">Performans KaydÄ± Ekle</button>
            </div>
        </div>

    <!-- Excel Export Modal (used by Analytics; Records button exports directly) -->
    <div id="exportExcelModal" class="modal" style="display:none">
            <div class="modal-header">
                <h3><i class="fas fa-download"></i> Excel Raporu Ä°ndir</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="exportExcelForm">
                    <div class="form-section">
                        <h4><i class="fas fa-calendar-alt"></i> Tarih AralÄ±ÄŸÄ±</h4>
                        <div class="form-group">
                            <label for="export_start_date">BaÅŸlangÄ±Ã§ Tarihi:</label>
                            <input type="date" id="export_start_date" name="export_start_date" required>
                        </div>
                        <div class="form-group">
                            <label for="export_end_date">BitiÅŸ Tarihi:</label>
                            <input type="date" id="export_end_date" name="export_end_date" required>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4><i class="fas fa-file-excel"></i> Excel Ä°Ã§eriÄŸi</h4>
                        <div class="info-box">
                            <div class="info-item">
                                <i class="fas fa-table"></i>
                                <div>
                                    <strong>Sheet 1: Personel Ã‡aÄŸrÄ± Ã–zeti</strong>
                                    <p>Personel bazÄ±nda Ã§aÄŸrÄ± istatistikleri ve puan ortalamalarÄ±</p>
                                </div>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-list"></i>
                                <div>
                                    <strong>Sheet 2: Dinlenilen Ã‡aÄŸrÄ±lar</strong>
                                    <p>TÃ¼m Ã§aÄŸrÄ± deÄŸerlendirme detaylarÄ±</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="exportExcelForm" class="btn btn-info">
                    <i class="fas fa-download"></i> Excel Ä°ndir
                </button>
            </div>
        </div>

        <!-- After Hours Modal (moved as top-level modal under overlay) -->
        <div id="afterHoursModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-business-time"></i> Mesai SonrasÄ± KayÄ±t</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="afterHoursForm">
                    <input type="hidden" id="afterHoursEditId" name="afterHoursEditId" value="">
                    <div class="form-section">
                        <h4><i class="fas fa-user"></i> Personel ve Tarih</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="after_hours_personnel_id">Personel</label>
                                <select id="after_hours_personnel_id" name="after_hours_personnel_id">
                                    <option value="">Personel SeÃ§in (Opsiyonel)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="after_hours_date">Tarih</label>
                                <input type="date" id="after_hours_date" name="after_hours_date">
                            </div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4><i class="fas fa-list-ol"></i> DeÄŸerler (opsiyonel)</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="after_hours_call_count">Arama Adedi</label>
                                <input type="number" id="after_hours_call_count" name="after_hours_call_count" min="0" placeholder="0">
                            </div>
                            <div class="form-group">
                                <label for="after_hours_talk_duration">KonuÅŸma SÃ¼resi (dk)</label>
                                <input type="number" id="after_hours_talk_duration" name="after_hours_talk_duration" min="0" placeholder="0">
                            </div>
                            <div class="form-group">
                                <label for="after_hours_member_count">Ãœye Adedi</label>
                                <input type="number" id="after_hours_member_count" name="after_hours_member_count" min="0" placeholder="0">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group" style="width:100%">
                                <label for="after_hours_notes">Notlar</label>
                                <textarea id="after_hours_notes" name="after_hours_notes" rows="3" placeholder="Opsiyonel notlar..."></textarea>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="afterHoursForm" class="btn btn-primary">Kaydet</button>
            </div>
        </div>

        <!-- Attendance Override Modal -->
        <div id="attendanceOverrideModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-calendar-plus"></i> Ä°zin / Puantaj KaydÄ±</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="attendanceOverrideForm">
                    <input type="hidden" id="attendance_override_edit_id" name="attendance_override_edit_id" value="">
                    <div class="form-section">
                        <h4><i class="fas fa-user"></i> Personel ve Tarih</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="attendance_override_personnel_id">Personel</label>
                                <select id="attendance_override_personnel_id" name="attendance_override_personnel_id" required>
                                    <option value="">Personel SeÃ§in</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="attendance_override_date">Tarih</label>
                                <input type="date" id="attendance_override_date" name="attendance_override_date" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4><i class="fas fa-square-check"></i> DeÄŸer ve Detay</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="attendance_override_value">DeÄŸer</label>
                                <select id="attendance_override_value" name="attendance_override_value" required>
                                    <option value="1-week">HaftalÄ±k izin (1)</option>
                                    <option value="1">1 (Tam GÃ¼n)</option>
                                    <option value="0.5">0,5 (YarÄ±m GÃ¼n)</option>
                                    <option value="0">0 (Yok)</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group" style="width:100%">
                                <label for="attendance_override_notes">Not</label>
                                <textarea id="attendance_override_notes" name="attendance_override_notes" rows="3" placeholder="Opsiyonel notlar..."></textarea>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="button" id="deleteAttendanceOverrideBtn" class="btn btn-danger" style="display:none">Sil</button>
                <button type="submit" form="attendanceOverrideForm" class="btn btn-primary">Kaydet</button>
            </div>
        </div>

        <!-- Add User Modal -->
        <div id="addUserModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-user-plus"></i> Yeni KullanÄ±cÄ± OluÅŸtur</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addUserForm">
                    <div class="form-row">
                        <div class="form-group" style="width:100%">
                            <label for="add_user_username">KullanÄ±cÄ± AdÄ±</label>
                            <input type="text" id="add_user_username" name="username" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group" style="width:100%">
                            <label for="add_user_password">Åžifre</label>
                            <input type="password" id="add_user_password" name="password" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="add_user_role">Rol</label>
                            <select id="add_user_role" name="role">
                                <option value="user">KullanÄ±cÄ±</option>
                                <option value="readonly">Sadece Okuma</option>
                                <option value="admin">YÃ¶netici</option>
                            </select>
                        </div>
                        <div class="form-group" style="display:flex;align-items:center;gap:8px;">
                            <input type="checkbox" id="add_user_active" name="is_active" checked>
                            <label for="add_user_active" style="margin:0;">Aktif</label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="addUserForm" class="btn btn-primary">Kaydet</button>
            </div>
        </div>

        <!-- Edit User Modal -->
        <div id="editUserModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-user-edit"></i> KullanÄ±cÄ±yÄ± DÃ¼zenle</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editUserForm">
                    <input type="hidden" id="edit_user_id" name="id">
                    <div class="form-row">
                        <div class="form-group" style="width:100%">
                            <label for="edit_user_username">KullanÄ±cÄ± AdÄ±</label>
                            <input type="text" id="edit_user_username" name="username" readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group" style="width:100%">
                            <label for="edit_user_password">Yeni Åžifre (opsiyonel)</label>
                            <input type="password" id="edit_user_password" name="password" placeholder="BoÅŸ bÄ±rakÄ±lÄ±rsa deÄŸiÅŸmez">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit_user_role">Rol</label>
                            <select id="edit_user_role" name="role">
                                <option value="user">KullanÄ±cÄ±</option>
                                <option value="readonly">Sadece Okuma</option>
                                <option value="admin">YÃ¶netici</option>
                            </select>
                        </div>
                        <div class="form-group" style="display:flex;align-items:center;gap:8px;">
                            <input type="checkbox" id="edit_user_active" name="is_active">
                            <label for="edit_user_active" style="margin:0;">Aktif</label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="editUserForm" class="btn btn-warning">GÃ¼ncelle</button>
            </div>
        </div>

        <!-- Warning / Cut (UYARI - KESÄ°NTÄ°) Modal -->
        <div id="warningCutModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-exclamation-triangle"></i> UYARI - KESÄ°NTÄ°</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="warningCutForm">
                    <input type="hidden" id="warning_cut_edit_id" name="warning_cut_edit_id" value="">
                    <div class="form-section">
                        <h4><i class="fas fa-user"></i> Personel ve Tarih</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="warning_cut_personnel_id">Personel *</label>
                                <select id="warning_cut_personnel_id" name="warning_cut_personnel_id" required>
                                    <option value="">Personel SeÃ§in</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="warning_cut_date">Tarih *</label>
                                <input type="date" id="warning_cut_date" name="warning_cut_date" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4><i class="fas fa-info-circle"></i> Detay</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="warning_cut_type">UyarÄ±/Kesinti *</label>
                                <select id="warning_cut_type" name="warning_cut_type" required>
                                    <option value="uyari">UyarÄ±</option>
                                    <option value="kesinti">Kesinti</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="warning_cut_count">Adet *</label>
                                <input type="number" id="warning_cut_count" name="warning_cut_count" min="1" value="1" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group" style="width:100%">
                                <label for="warning_cut_subject">Konu</label>
                                <input type="text" id="warning_cut_subject" name="warning_cut_subject" placeholder="Konu (opsiyonel)">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="warningCutForm" class="btn btn-primary">Kaydet</button>
            </div>
        </div>

        <!-- Edit Performance Modal -->
        <div id="editPerformanceModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-edit"></i> Performans KaydÄ±nÄ± DÃ¼zenle</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editPerformanceForm">
                    <input type="hidden" id="editPerformanceId" name="editPerformanceId">
                    
                    <div class="form-section">
                        <h4><i class="fas fa-calendar-user"></i> Temel Bilgiler</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="editPerformanceDate">Tarih *</label>
                                <input type="date" id="editPerformanceDate" name="editPerformanceDate" required>
                            </div>
                            <div class="form-group">
                                <label for="editPerformancePersonnel">Personel *</label>
                                <select id="editPerformancePersonnel" name="editPerformancePersonnel" required>
                                    <option value="">Personel SeÃ§in</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4><i class="fas fa-chart-bar"></i> Performans Metrikleri</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="editPerformanceMemberCount">Ãœye Adedi</label>
                                <input type="number" id="editPerformanceMemberCount" name="editPerformanceMemberCount" min="0" placeholder="Ãœye sayÄ±sÄ±nÄ± girin">
                            </div>
                            <div class="form-group">
                                <label for="editPerformanceWhatsappCount">WhatsApp Adedi</label>
                                <input type="number" id="editPerformanceWhatsappCount" name="editPerformanceWhatsappCount" min="0" placeholder="WhatsApp sayÄ±sÄ±nÄ± girin">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="editPerformanceDeviceCount">Cihaz Adedi</label>
                                <input type="number" id="editPerformanceDeviceCount" name="editPerformanceDeviceCount" min="0" placeholder="Cihaz sayÄ±sÄ±nÄ± girin">
                            </div>
                            <div class="form-group">
                                <label for="editPerformanceUnansweredCount">WhatsApp Total CevapsÄ±z Adedi</label>
                                <input type="number" id="editPerformanceUnansweredCount" name="editPerformanceUnansweredCount" min="0" placeholder="CevapsÄ±z sayÄ±sÄ±nÄ± girin">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4><i class="fas fa-brain"></i> DeÄŸerlendirme</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="editPerformanceKnowledgeDuelResult">Bilgi DÃ¼ellosu Sonucu</label>
                                <input type="number" id="editPerformanceKnowledgeDuelResult" name="editPerformanceKnowledgeDuelResult" min="0" max="100" placeholder="0-100 arasÄ± puan">
                            </div>
                            <div class="form-group">
                                <label for="editPerformanceRewardPenalty">Ã–dÃ¼l veya Ceza</label>
                                <select id="editPerformanceRewardPenalty" name="editPerformanceRewardPenalty">
                                    <option value="">SeÃ§im YapÄ±nÄ±z</option>
                                    <option value="odul">Ã–dÃ¼l</option>
                                    <option value="ceza">Ceza</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="editPerformanceForm" class="btn btn-warning">
                    <i class="fas fa-save"></i> DeÄŸiÅŸiklikleri Kaydet
                </button>
            </div>
        </div>

        <!-- Add Training Feedback Modal -->
        <div id="addTrainingFeedbackModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-graduation-cap"></i> EÄŸitimler</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addTrainingFeedbackForm">
                    <div class="form-section">
                        <h4><i class="fas fa-calendar-user"></i> Temel Bilgiler</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="training_feedback_date">Tarih *</label>
                                <input type="date" id="training_feedback_date" name="training_feedback_date" required>
                            </div>
                            <div class="form-group">
                                <label for="training_feedback_personnel_id">Personel *</label>
                                <select id="training_feedback_personnel_id" name="training_feedback_personnel_id" required>
                                    <option value="">Personel SeÃ§in</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4><i class="fas fa-chalkboard-teacher"></i> EÄŸitimler</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="general_training_count">Genel EÄŸitim Adedi</label>
                                <input type="number" id="general_training_count" name="general_training_count" min="0" placeholder="Genel eÄŸitim sayÄ±sÄ±nÄ± girin">
                            </div>
                            <div class="form-group">
                                <label for="general_training_subject">Genel EÄŸitim Konusu</label>
                                <input type="text" id="general_training_subject" name="general_training_subject" placeholder="Genel eÄŸitim konusunu belirtin">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="one_on_one_training_count">Birebir EÄŸitimler Adedi</label>
                                <input type="number" id="one_on_one_training_count" name="one_on_one_training_count" min="0" placeholder="Birebir eÄŸitim sayÄ±sÄ±nÄ± girin">
                            </div>
                            <div class="form-group">
                                <label for="one_on_one_training_subject">Birebir EÄŸitimler Konusu</label>
                                <input type="text" id="one_on_one_training_subject" name="one_on_one_training_subject" placeholder="Birebir eÄŸitim konusunu belirtin">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="feedback_count">Geribildirimler Adedi</label>
                                <input type="number" id="feedback_count" name="feedback_count" min="0" placeholder="Geribildirim sayÄ±sÄ±nÄ± girin">
                            </div>
                            <div class="form-group">
                                <label for="feedback_subject">Geribildirimler Konusu</label>
                                <input type="text" id="feedback_subject" name="feedback_subject" placeholder="Geribildirim konusunu belirtin">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="addTrainingFeedbackForm" class="btn btn-success">
                    <i class="fas fa-save"></i> KayÄ±t Ekle
                </button>
            </div>
        </div>

        <!-- Edit Training Feedback Modal -->
        <div id="editTrainingFeedbackModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-edit"></i> EÄŸitimler</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editTrainingFeedbackForm">
                    <input type="hidden" id="editTrainingFeedbackId" name="id">
                    
                    <div class="form-section">
                        <h4><i class="fas fa-calendar-user"></i> Temel Bilgiler</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit_training_feedback_date">Tarih *</label>
                                <input type="date" id="edit_training_feedback_date" name="training_feedback_date" required>
                            </div>
                            <div class="form-group">
                                <label for="edit_training_feedback_personnel_id">Personel *</label>
                                <select id="edit_training_feedback_personnel_id" name="training_feedback_personnel_id" required>
                                    <option value="">Personel SeÃ§in</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4><i class="fas fa-chalkboard-teacher"></i> EÄŸitimler</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit_general_training_count">Genel EÄŸitim Adedi</label>
                                <input type="number" id="edit_general_training_count" name="general_training_count" min="0" placeholder="Genel eÄŸitim sayÄ±sÄ±nÄ± girin">
                            </div>
                            <div class="form-group">
                                <label for="edit_general_training_subject">Genel EÄŸitim Konusu</label>
                                <input type="text" id="edit_general_training_subject" name="general_training_subject" placeholder="Genel eÄŸitim konusunu belirtin">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit_one_on_one_training_count">Birebir EÄŸitimler Adedi</label>
                                <input type="number" id="edit_one_on_one_training_count" name="one_on_one_training_count" min="0" placeholder="Birebir eÄŸitim sayÄ±sÄ±nÄ± girin">
                            </div>
                            <div class="form-group">
                                <label for="edit_one_on_one_training_subject">Birebir EÄŸitimler Konusu</label>
                                <input type="text" id="edit_one_on_one_training_subject" name="one_on_one_training_subject" placeholder="Birebir eÄŸitim konusunu belirtin">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit_feedback_count">Geribildirimler Adedi</label>
                                <input type="number" id="edit_feedback_count" name="feedback_count" min="0" placeholder="Geribildirim sayÄ±sÄ±nÄ± girin">
                            </div>
                            <div class="form-group">
                                <label for="edit_feedback_subject">Geribildirimler Konusu</label>
                                <input type="text" id="edit_feedback_subject" name="feedback_subject" placeholder="Geribildirim konusunu belirtin">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary">Ä°ptal</button>
                <button type="submit" form="editTrainingFeedbackForm" class="btn btn-warning">
                    <i class="fas fa-save"></i> GÃ¼ncelle
                </button>
            </div>
        </div>

        <!-- Edit Personnel Modal -->
        <div id="editPersonnelModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-user-edit"></i> Personel Bilgilerini DÃ¼zenle</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editPersonnelForm">
                    <input type="hidden" id="editPersonnelId" name="id">
                    
                    <div class="form-section">
                        <h4><i class="fas fa-user"></i> KiÅŸisel Bilgiler</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="editName">Personel AdÄ± *</label>
                                <input type="text" id="editName" name="name" required placeholder="Ad Soyad" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                            <div class="form-group">
                                <label for="editUsername">KullanÄ±cÄ± AdÄ± *</label>
                                <input type="text" id="editUsername" name="username" required placeholder="KullanÄ±cÄ± adÄ±" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="editEmail">E-posta</label>
                                <input type="email" id="editEmail" name="email" placeholder="ornek@sirket.com" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                            <div class="form-group">
                                <label for="editReference">Referans</label>
                                <input type="text" id="editReference" name="reference" placeholder="Referans bilgisi" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h4><i class="fas fa-briefcase"></i> Ä°ÅŸ Bilgileri</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="editHireDate">Ä°ÅŸe GiriÅŸ Tarihi *</label>
                                <input type="date" id="editHireDate" name="hire_date" required style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                            <div class="form-group">
                                <label for="editTeam">Ekip *</label>
                                <select id="editTeam" name="team" required style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                                    <option value="">Ekip SeÃ§in</option>
                                    <option value="As Ekip">As Ekip</option>
                                    <option value="Paf Ekip">Paf Ekip</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="editPromotionDate">Terfi Tarihi (Opsiyonel)</label>
                                <input type="date" id="editPromotionDate" name="promotion_date" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary modal-close">Ä°ptal</button>
                <button type="submit" form="editPersonnelForm" class="btn btn-warning">
                    <i class="fas fa-save"></i> DeÄŸiÅŸiklikleri Kaydet
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.js"></script>
    <script>
        // In production, API calls use same-origin automatically via app.js.
        // For local development, you may override the API base URL by uncommenting the line below.
        // window.API_BASE_URL = 'http://127.0.0.1:8000';
    </script>
    <script>
        // ðŸŽ¨ PROFESYONEL ANIMASYON SÄ°STEMÄ°
        
        // PartikÃ¼ller oluÅŸtur
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            
            for(let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 10 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }
        
        // Sayfa yÃ¼klendiÄŸinde partikÃ¼lleri baÅŸlat
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            
            // Smooth scroll iÃ§in
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if(target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // Hover efektleri
            document.querySelectorAll('.hover-lift').forEach(element => {
                element.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-8px) scale(1.02)';
                });
                
                element.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
            
            // Progress ring animasyonlarÄ±
            function animateProgressRing(ring, percentage) {
                const circle = ring.querySelector('.progress-ring-progress');
                const radius = circle.r.baseVal.value;
                const circumference = radius * 2 * Math.PI;
                const offset = circumference - percentage / 100 * circumference;
                
                circle.style.strokeDashoffset = offset;
            }
            
            // TÃ¼m progress ring'leri animate et
            document.querySelectorAll('.progress-ring').forEach(ring => {
                const percentage = ring.dataset.percentage || 0;
                setTimeout(() => {
                    animateProgressRing(ring, percentage);
                }, 500);
            });
            
            // Intersection Observer ile elementi gÃ¶rÃ¼nÃ¼r olduÄŸunda animate et
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -100px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in-up');
                    }
                });
            }, observerOptions);
            
            // TÃ¼m animasyon elementlerini observe et
            document.querySelectorAll('.chart-card, .personnel-card, .stat-card').forEach(el => {
                observer.observe(el);
            });
            
            // Dinamik arka plan rengi deÄŸiÅŸtirme
            let hue = 0;
            setInterval(() => {
                hue = (hue + 0.5) % 360;
                document.documentElement.style.setProperty('--dynamic-hue', hue);
            }, 100);
        });
        
        // Touch gesture desteÄŸi
        let touchStartX = 0;
        let touchStartY = 0;
        
        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
            touchStartY = e.changedTouches[0].screenY;
        });
        
        document.addEventListener('touchend', e => {
            const touchEndX = e.changedTouches[0].screenX;
            const touchEndY = e.changedTouches[0].screenY;
            const deltaX = touchEndX - touchStartX;
            const deltaY = touchEndY - touchStartY;
            
            if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 50) {
                if (deltaX > 0) {
                    // SaÄŸa kaydÄ±rma
                    console.log('Swipe right detected');
                } else {
                    // Sola kaydÄ±rma
                    console.log('Swipe left detected');
                }
            }
        });
        
        // Performance monitoring
        const performanceObserver = new PerformanceObserver((list) => {
            for (const entry of list.getEntries()) {
                if (entry.entryType === 'measure') {
                    console.log(`Performance: ${entry.name} took ${entry.duration}ms`);
                }
            }
        });
        
        if (typeof PerformanceObserver !== 'undefined') {
            performanceObserver.observe({entryTypes: ['measure']});
        }
    </script>
            <script src="app.js?v=6.62-LOGIN-FIX&cache=BUST&t=20250815"></script>
</body>
</html>
